@page "/"
@inherits CasosBase

@if(lstCasos == null)
{
    <h3>Cargando casos.....</h3>
}
else
{
    <h3 class="mb-5">Listado de casos</h3>

    var CasosCount = lstCasos.Count();

    if (CasosCount > 0)
    {
        var agruparCasoTipo = from casos in lstCasos
                              group casos by casos.tipo_caso
                              ;


        @foreach (var itemGroup in agruparCasoTipo)
        {
            @if(@itemGroup.FirstOrDefault(pg=>pg.tipo_caso == itemGroup.Key).tipo_caso == 1){
                <h4>Hotfix</h4>
            }
            else if(@itemGroup.FirstOrDefault(pg => pg.tipo_caso == itemGroup.Key).tipo_caso == 2){
                <h4>Bugfix</h4>
            }
            else if (@itemGroup.FirstOrDefault(pg => pg.tipo_caso == itemGroup.Key).tipo_caso == 3)
            {
                <h4>Feature</h4>
            }
            else{
                <h4>Tipo sin asignar</h4>
            }
                <div class="row mt-3">
                <DisplayCaso lstCasos=@itemGroup></DisplayCaso>
            </div>
            <hr class="mb-3" />
        }

    }

}